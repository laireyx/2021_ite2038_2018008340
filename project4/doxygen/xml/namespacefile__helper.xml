<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.3" xml:lang="en-US">
  <compounddef id="namespacefile__helper" kind="namespace" language="C++">
    <compoundname>file_helper</compoundname>
      <sectiondef kind="func">
      <memberdef kind="function" id="namespacefile__helper_1ac1314009ac6b59d2972a061b81dffa7a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structTableInstance" kindref="compound">TableInstance</ref> &amp;</type>
        <definition>TableInstance &amp; file_helper::get_table_instance</definition>
        <argsstring>(tableid_t table_id)</argsstring>
        <name>get_table_instance</name>
        <param>
          <type>tableid_t</type>
          <declname>table_id</declname>
        </param>
        <briefdescription>
<para>Get table instance. </para>
        </briefdescription>
        <detaileddescription>
<para>Get the reference of the table instance ojbect corresponds with the given table id.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>table_id</parametername>
</parameternamelist>
<parameterdescription>
<para>Target table id </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/eliot/DBMS/2021_ite2038_2018008340/project3/db_project/db/src/file.cc" line="22" column="15" bodyfile="/home/eliot/DBMS/2021_ite2038_2018008340/project3/db_project/db/src/file.cc" bodystart="22" bodyend="25" declfile="/home/eliot/DBMS/2021_ite2038_2018008340/project3/db_project/db/include/file.h" declline="47" declcolumn="15"/>
        <references refid="namespaceerror_1a5785a46a2d7171d2954c349f640eb7eb" compoundref="errors_8h" startline="77" endline="94">error::ok</references>
        <references refid="group__DiskSpaceManager_1ga6375a8c9566223391e0688f3826ed2c8" compoundref="file_8cc" startline="17">table_instance_count</references>
        <references refid="group__DiskSpaceManager_1ga2b213c58b318afbf8ef3ff84fe1e4556" compoundref="file_8cc" startline="19">table_instances</references>
      </memberdef>
      <memberdef kind="function" id="namespacefile__helper_1ab6f797fad7afb1ec4909c88d21970b27" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void file_helper::extend_capacity</definition>
        <argsstring>(tableid_t table_id, pagenum_t newsize=0)</argsstring>
        <name>extend_capacity</name>
        <param>
          <type>tableid_t</type>
          <declname>table_id</declname>
        </param>
        <param>
          <type>pagenum_t</type>
          <declname>newsize</declname>
          <defval>0</defval>
        </param>
        <briefdescription>
<para>Automatically check and size-up a page file. </para>
        </briefdescription>
        <detaileddescription>
<para>If <computeroutput>newsize &gt; page_num</computeroutput>, reserve pages so that total page num is equivalent to newsize. If <computeroutput>newsize = 0</computeroutput> and header page&apos;s free_page_idx is 0, double the reserved page count.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>table_id</parametername>
</parameternamelist>
<parameterdescription>
<para>Target table id. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>newsize</parametername>
</parameternamelist>
<parameterdescription>
<para>extended size. default is 0, which means doubling the reserved page count if there are no free page. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
<para>next free page index is next page index, unless it is the last page.</para>
<para>next free page index is next page index, unless it is the last page.</para>
        </inbodydescription>
        <location file="/home/eliot/DBMS/2021_ite2038_2018008340/project3/db_project/db/src/file.cc" line="27" column="6" bodyfile="/home/eliot/DBMS/2021_ite2038_2018008340/project3/db_project/db/src/file.cc" bodystart="27" bodyend="68" declfile="/home/eliot/DBMS/2021_ite2038_2018008340/project3/db_project/db/include/file.h" declline="58" declcolumn="6"/>
        <references refid="structHeaderPage_1a4a94aded4d003eb992bb16f98038345a" compoundref="page_8h" startline="42">HeaderPage::free_page_idx</references>
        <references refid="namespacefile__helper_1ac1314009ac6b59d2972a061b81dffa7a" compoundref="file_8cc" startline="22" endline="25">get_table_instance</references>
        <references refid="structFreePage_1a20ca90083caaf104b7e45d0a7a863ff3" compoundref="page_8h" startline="58">FreePage::next_free_idx</references>
        <references refid="namespaceerror_1a5785a46a2d7171d2954c349f640eb7eb" compoundref="errors_8h" startline="77" endline="94">error::ok</references>
        <references refid="structHeaderPage_1a8216d92e4dd368166f49c07e51874d29" compoundref="page_8h" startline="44">HeaderPage::page_num</references>
        <references refid="group__DiskSpaceManager_1ga02cae3c3ec7f57eeec642e2cade048f8" compoundref="page_8h" startline="11">PAGE_SIZE</references>
      </memberdef>
      <memberdef kind="function" id="namespacefile__helper_1a5d56342fff42b8032db022c1af7aaba7" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void file_helper::flush_header</definition>
        <argsstring>(tableid_t table_id, headerpage_t *header_page)</argsstring>
        <name>flush_header</name>
        <param>
          <type>tableid_t</type>
          <declname>table_id</declname>
        </param>
        <param>
          <type><ref refid="group__DiskSpaceManager_1ga682dc456d51a39252f720bd2a3b430b5" kindref="member">headerpage_t</ref> *</type>
          <declname>header_page</declname>
        </param>
        <briefdescription>
<para>Flush a header page as &quot;pagenum 0&quot;. </para>
        </briefdescription>
        <detaileddescription>
<para>Write header page into offset 0 of the current table file</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>header_page</parametername>
</parameternamelist>
<parameterdescription>
<para>Header page. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/eliot/DBMS/2021_ite2038_2018008340/project3/db_project/db/src/file.cc" line="70" column="6" bodyfile="/home/eliot/DBMS/2021_ite2038_2018008340/project3/db_project/db/src/file.cc" bodystart="70" bodyend="77" declfile="/home/eliot/DBMS/2021_ite2038_2018008340/project3/db_project/db/include/file.h" declline="66" declcolumn="6"/>
        <references refid="namespacefile__helper_1ac1314009ac6b59d2972a061b81dffa7a" compoundref="file_8cc" startline="22" endline="25">get_table_instance</references>
        <references refid="namespaceerror_1a5785a46a2d7171d2954c349f640eb7eb" compoundref="errors_8h" startline="77" endline="94">error::ok</references>
        <references refid="group__DiskSpaceManager_1ga02cae3c3ec7f57eeec642e2cade048f8" compoundref="page_8h" startline="11">PAGE_SIZE</references>
      </memberdef>
      </sectiondef>
    <briefdescription>
<para>Filemanager helper. </para>
    </briefdescription>
    <detaileddescription>
<para>This namespace includes some helper functions which are used by filemanager API. Those functions are not a part of filemanager API, but frequently used part of it so I wrapped these functions. </para>
    </detaileddescription>
    <location file="/home/eliot/DBMS/2021_ite2038_2018008340/project3/db_project/db/include/file.h" line="39" column="1"/>
  </compounddef>
</doxygen>
