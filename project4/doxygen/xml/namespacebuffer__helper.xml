<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.3" xml:lang="en-US">
  <compounddef id="namespacebuffer__helper" kind="namespace" language="C++">
    <compoundname>buffer_helper</compoundname>
      <sectiondef kind="func">
      <memberdef kind="function" id="namespacebuffer__helper_1a74ed2677c259449b4dbd4d92476fb88c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structBufferBlock" kindref="compound">BufferBlock</ref> *</type>
        <definition>BufferBlock * buffer_helper::load_buffer</definition>
        <argsstring>(tableid_t table_id, pagenum_t pagenum, page_t *page, bool pin=true)</argsstring>
        <name>load_buffer</name>
        <param>
          <type>tableid_t</type>
          <declname>table_id</declname>
        </param>
        <param>
          <type>pagenum_t</type>
          <declname>pagenum</declname>
        </param>
        <param>
          <type><ref refid="group__DiskSpaceManager_1ga46b232fa234ff08da68a876589863216" kindref="member">page_t</ref> *</type>
          <declname>page</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>pin</declname>
          <defval>true</defval>
        </param>
        <briefdescription>
<para>Load a page into buffer. </para>
        </briefdescription>
        <detaileddescription>
<para>Return a buffer block if exists. If not, automatically evict a buffer with the lowest priority and load a buffer in that position. If there are no room for more buffer, fallback direct I/O method will be used.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>table_id</parametername>
</parameternamelist>
<parameterdescription>
<para>table id. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>pagenum</parametername>
</parameternamelist>
<parameterdescription>
<para>page number. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="out">page</parametername>
</parameternamelist>
<parameterdescription>
<para>page. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>pin</parametername>
</parameternamelist>
<parameterdescription>
<para>pin. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>loaded buffer. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/eliot/DBMS/2021_ite2038_2018008340/project3/db_project/db/src/buffer.cc" line="28" column="13" bodyfile="/home/eliot/DBMS/2021_ite2038_2018008340/project3/db_project/db/src/buffer.cc" bodystart="28" bodyend="75" declfile="/home/eliot/DBMS/2021_ite2038_2018008340/project3/db_project/db/include/buffer.h" declline="64" declcolumn="13"/>
        <references refid="group__BufferManager_1ga6675ef26738b0878ce5d2df48c71d93d" compoundref="buffer_8cc" startline="19">buffer_head_idx</references>
        <references refid="group__BufferManager_1gaf0a958b81a6ef6c50ece8231eb6e8495" compoundref="buffer_8cc" startline="25">buffer_index</references>
        <references refid="group__BufferManager_1ga57ae63bbf913487b006683b804b8435e" compoundref="buffer_8cc" startline="17">buffer_slot</references>
        <references refid="group__BufferManager_1ga6d994e470b6e3c1d671c42e3f5dc9d02" compoundref="buffer_8cc" startline="21">buffer_tail_idx</references>
        <references refid="namespacebuffer__helper_1a24a8a5676d2d1b502d09d0a6010ef692" compoundref="buffer_8cc" startline="135" endline="147">detach_from_tree</references>
        <references refid="namespacebuffer__helper_1acd01d8af2d203c124c36f77e9ea86575" compoundref="buffer_8cc" startline="108" endline="133">evict</references>
        <references refid="group__DiskSpaceManager_1ga9fa7bda853536232d02faa2acb612eb7" compoundref="file_8cc" startline="183" endline="189">file_read_page</references>
        <references refid="structBufferBlock_1ad89fb09273ce3d0e9fc071f795a2afc6" compoundref="buffer_8h" startline="32">BufferBlock::is_dirty</references>
        <references refid="structBufferBlock_1a8a71a2ddf902615f30c43f49d499dc77" compoundref="buffer_8h" startline="35">BufferBlock::is_pinned</references>
        <references refid="structBufferBlock_1ae6e3e950155952976f74178b1951d09d" compoundref="buffer_8h" startline="27">BufferBlock::page</references>
        <references refid="structBufferBlock_1aa11d7c4ecd1f920eece0b56df5b2b1b9" compoundref="buffer_8h" startline="29">BufferBlock::page_location</references>
        <references refid="group__DiskSpaceManager_1ga02cae3c3ec7f57eeec642e2cade048f8" compoundref="page_8h" startline="11">PAGE_SIZE</references>
        <references refid="namespacebuffer__helper_1a91e836462bed31cbc7e2bfec66844ec5" compoundref="buffer_8cc" startline="149" endline="158">prepend_to_head</references>
        <references refid="structBufferBlock_1a68a3b5efa5d3b6b940523417c1ca8730" compoundref="buffer_8h" startline="39">BufferBlock::prev_block_idx</references>
      </memberdef>
      <memberdef kind="function" id="namespacebuffer__helper_1a04ef1a7b71e2268965ebc4791e7ff817" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool buffer_helper::apply_buffer</definition>
        <argsstring>(tableid_t table_id, pagenum_t pagenum, const page_t *page)</argsstring>
        <name>apply_buffer</name>
        <param>
          <type>tableid_t</type>
          <declname>table_id</declname>
        </param>
        <param>
          <type>pagenum_t</type>
          <declname>pagenum</declname>
        </param>
        <param>
          <type>const <ref refid="group__DiskSpaceManager_1ga46b232fa234ff08da68a876589863216" kindref="member">page_t</ref> *</type>
          <declname>page</declname>
        </param>
        <briefdescription>
<para>Apply a page into buffer. </para>
        </briefdescription>
        <detaileddescription>
<para>Apply page content into buffer block if exists. If not, return <computeroutput>false</computeroutput> to notify fallback direct I/O method should be used.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>table_id</parametername>
</parameternamelist>
<parameterdescription>
<para>table id. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>pagenum</parametername>
</parameternamelist>
<parameterdescription>
<para>page number. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>page</parametername>
</parameternamelist>
<parameterdescription>
<para>page content. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><computeroutput>true</computeroutput> if buffer write success, <computeroutput>false</computeroutput> if fallback method is used. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/eliot/DBMS/2021_ite2038_2018008340/project3/db_project/db/src/buffer.cc" line="77" column="6" bodyfile="/home/eliot/DBMS/2021_ite2038_2018008340/project3/db_project/db/src/buffer.cc" bodystart="77" bodyend="96" declfile="/home/eliot/DBMS/2021_ite2038_2018008340/project3/db_project/db/include/buffer.h" declline="77" declcolumn="6"/>
        <references refid="group__BufferManager_1gaf0a958b81a6ef6c50ece8231eb6e8495" compoundref="buffer_8cc" startline="25">buffer_index</references>
        <references refid="group__BufferManager_1ga57ae63bbf913487b006683b804b8435e" compoundref="buffer_8cc" startline="17">buffer_slot</references>
        <references refid="namespacebuffer__helper_1a24a8a5676d2d1b502d09d0a6010ef692" compoundref="buffer_8cc" startline="135" endline="147">detach_from_tree</references>
        <references refid="group__DiskSpaceManager_1ga0cc120c0de98d0bb7cabc476b739ab22" compoundref="file_8cc" startline="191" endline="198">file_write_page</references>
        <references refid="structBufferBlock_1ad89fb09273ce3d0e9fc071f795a2afc6" compoundref="buffer_8h" startline="32">BufferBlock::is_dirty</references>
        <references refid="structBufferBlock_1a8a71a2ddf902615f30c43f49d499dc77" compoundref="buffer_8h" startline="35">BufferBlock::is_pinned</references>
        <references refid="structBufferBlock_1ae6e3e950155952976f74178b1951d09d" compoundref="buffer_8h" startline="27">BufferBlock::page</references>
        <references refid="group__DiskSpaceManager_1ga02cae3c3ec7f57eeec642e2cade048f8" compoundref="page_8h" startline="11">PAGE_SIZE</references>
        <references refid="namespacebuffer__helper_1a91e836462bed31cbc7e2bfec66844ec5" compoundref="buffer_8cc" startline="149" endline="158">prepend_to_head</references>
      </memberdef>
      <memberdef kind="function" id="namespacebuffer__helper_1aed4e4b30a9dc8dc1dfd8d231f143c836" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void buffer_helper::release_buffer</definition>
        <argsstring>(tableid_t table_id, pagenum_t pagenum)</argsstring>
        <name>release_buffer</name>
        <param>
          <type>tableid_t</type>
          <declname>table_id</declname>
        </param>
        <param>
          <type>pagenum_t</type>
          <declname>pagenum</declname>
        </param>
        <briefdescription>
<para>Release a buffer page. </para>
        </briefdescription>
        <detaileddescription>
<para>Remove the pin from the buffer.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>page_location</parametername>
</parameternamelist>
<parameterdescription>
<para>page location. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>page</parametername>
</parameternamelist>
<parameterdescription>
<para>page content. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/eliot/DBMS/2021_ite2038_2018008340/project3/db_project/db/src/buffer.cc" line="98" column="6" bodyfile="/home/eliot/DBMS/2021_ite2038_2018008340/project3/db_project/db/src/buffer.cc" bodystart="98" bodyend="106" declfile="/home/eliot/DBMS/2021_ite2038_2018008340/project3/db_project/db/include/buffer.h" declline="85" declcolumn="6"/>
        <references refid="group__BufferManager_1gaf0a958b81a6ef6c50ece8231eb6e8495" compoundref="buffer_8cc" startline="25">buffer_index</references>
        <references refid="group__BufferManager_1ga57ae63bbf913487b006683b804b8435e" compoundref="buffer_8cc" startline="17">buffer_slot</references>
        <references refid="structBufferBlock_1a8a71a2ddf902615f30c43f49d499dc77" compoundref="buffer_8h" startline="35">BufferBlock::is_pinned</references>
      </memberdef>
      <memberdef kind="function" id="namespacebuffer__helper_1a98e6a18b111ba2adcbe6ffaabfb498e9" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool buffer_helper::is_full</definition>
        <argsstring>()</argsstring>
        <name>is_full</name>
        <briefdescription>
<para>Check if there buffer slot is full. </para>
        </briefdescription>
        <detaileddescription>
<para><simplesect kind="return"><para>true if there are no room </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/eliot/DBMS/2021_ite2038_2018008340/project3/db_project/db/include/buffer.h" line="91" column="6" declfile="/home/eliot/DBMS/2021_ite2038_2018008340/project3/db_project/db/include/buffer.h" declline="91" declcolumn="6"/>
      </memberdef>
      <memberdef kind="function" id="namespacebuffer__helper_1acd01d8af2d203c124c36f77e9ea86575" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int buffer_helper::evict</definition>
        <argsstring>()</argsstring>
        <name>evict</name>
        <briefdescription>
<para>Evict a buffer with the lowest priority. </para>
        </briefdescription>
        <detaileddescription>
<para><computeroutput><ref refid="namespacebuffer__helper_1a74ed2677c259449b4dbd4d92476fb88c" kindref="member">load_buffer()</ref></computeroutput> will determine using of fallback method with return value of <computeroutput><ref refid="namespacebuffer__helper_1acd01d8af2d203c124c36f77e9ea86575" kindref="member">evict()</ref></computeroutput>.</para>
<para><simplesect kind="return"><para>evicted buffer slot index if success, <computeroutput>&lt;0</computeroutput> otherwise. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/eliot/DBMS/2021_ite2038_2018008340/project3/db_project/db/src/buffer.cc" line="108" column="5" bodyfile="/home/eliot/DBMS/2021_ite2038_2018008340/project3/db_project/db/src/buffer.cc" bodystart="108" bodyend="133" declfile="/home/eliot/DBMS/2021_ite2038_2018008340/project3/db_project/db/include/buffer.h" declline="99" declcolumn="5"/>
        <references refid="group__BufferManager_1gaf0a958b81a6ef6c50ece8231eb6e8495" compoundref="buffer_8cc" startline="25">buffer_index</references>
        <references refid="group__BufferManager_1ga57ae63bbf913487b006683b804b8435e" compoundref="buffer_8cc" startline="17">buffer_slot</references>
        <references refid="group__BufferManager_1ga6d994e470b6e3c1d671c42e3f5dc9d02" compoundref="buffer_8cc" startline="21">buffer_tail_idx</references>
        <references refid="group__DiskSpaceManager_1ga0cc120c0de98d0bb7cabc476b739ab22" compoundref="file_8cc" startline="191" endline="198">file_write_page</references>
        <references refid="structBufferBlock_1ad89fb09273ce3d0e9fc071f795a2afc6" compoundref="buffer_8h" startline="32">BufferBlock::is_dirty</references>
        <references refid="structBufferBlock_1a8a71a2ddf902615f30c43f49d499dc77" compoundref="buffer_8h" startline="35">BufferBlock::is_pinned</references>
        <references refid="structBufferBlock_1ae6e3e950155952976f74178b1951d09d" compoundref="buffer_8h" startline="27">BufferBlock::page</references>
        <references refid="structBufferBlock_1aa11d7c4ecd1f920eece0b56df5b2b1b9" compoundref="buffer_8h" startline="29">BufferBlock::page_location</references>
        <references refid="structBufferBlock_1a68a3b5efa5d3b6b940523417c1ca8730" compoundref="buffer_8h" startline="39">BufferBlock::prev_block_idx</references>
      </memberdef>
      <memberdef kind="function" id="namespacebuffer__helper_1a24a8a5676d2d1b502d09d0a6010ef692" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void buffer_helper::detach_from_tree</definition>
        <argsstring>(int buffer_idx)</argsstring>
        <name>detach_from_tree</name>
        <param>
          <type>int</type>
          <declname>buffer_idx</declname>
        </param>
        <briefdescription>
<para>detach a buffer from Recently-Used list. </para>
        </briefdescription>
        <detaileddescription>
<para>It links previous and next index of given buffer.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>buffer_idx</parametername>
</parameternamelist>
<parameterdescription>
<para>index of buffer which will be detached. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/eliot/DBMS/2021_ite2038_2018008340/project3/db_project/db/src/buffer.cc" line="135" column="6" bodyfile="/home/eliot/DBMS/2021_ite2038_2018008340/project3/db_project/db/src/buffer.cc" bodystart="135" bodyend="147" declfile="/home/eliot/DBMS/2021_ite2038_2018008340/project3/db_project/db/include/buffer.h" declline="106" declcolumn="6"/>
        <references refid="group__BufferManager_1ga57ae63bbf913487b006683b804b8435e" compoundref="buffer_8cc" startline="17">buffer_slot</references>
        <references refid="structBufferBlock_1a69a9ee672b7e833b568f524b6329a978" compoundref="buffer_8h" startline="42">BufferBlock::next_block_idx</references>
        <references refid="structBufferBlock_1a68a3b5efa5d3b6b940523417c1ca8730" compoundref="buffer_8h" startline="39">BufferBlock::prev_block_idx</references>
      </memberdef>
      <memberdef kind="function" id="namespacebuffer__helper_1a91e836462bed31cbc7e2bfec66844ec5" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void buffer_helper::prepend_to_head</definition>
        <argsstring>(int buffer_idx)</argsstring>
        <name>prepend_to_head</name>
        <param>
          <type>int</type>
          <declname>buffer_idx</declname>
        </param>
        <briefdescription>
<para>prepend a buffer to the head of Recently-Used list. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>buffer_idx</parametername>
</parameternamelist>
<parameterdescription>
<para>index of buffer which will be prepended. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/eliot/DBMS/2021_ite2038_2018008340/project3/db_project/db/src/buffer.cc" line="149" column="6" bodyfile="/home/eliot/DBMS/2021_ite2038_2018008340/project3/db_project/db/src/buffer.cc" bodystart="149" bodyend="158" declfile="/home/eliot/DBMS/2021_ite2038_2018008340/project3/db_project/db/include/buffer.h" declline="112" declcolumn="6"/>
        <references refid="group__BufferManager_1ga6675ef26738b0878ce5d2df48c71d93d" compoundref="buffer_8cc" startline="19">buffer_head_idx</references>
        <references refid="group__BufferManager_1ga57ae63bbf913487b006683b804b8435e" compoundref="buffer_8cc" startline="17">buffer_slot</references>
        <references refid="structBufferBlock_1a69a9ee672b7e833b568f524b6329a978" compoundref="buffer_8h" startline="42">BufferBlock::next_block_idx</references>
        <references refid="structBufferBlock_1a68a3b5efa5d3b6b940523417c1ca8730" compoundref="buffer_8h" startline="39">BufferBlock::prev_block_idx</references>
      </memberdef>
      </sectiondef>
    <briefdescription>
<para>BufferManager helper. </para>
    </briefdescription>
    <detaileddescription>
<para>This namespace includes some helper functions which are used by buffermanager API. Those functions are not a part of buffermanager API, but frequently used part of it so I wrapped these functions. </para>
    </detaileddescription>
    <location file="/home/eliot/DBMS/2021_ite2038_2018008340/project3/db_project/db/include/buffer.h" line="51" column="1"/>
  </compounddef>
</doxygen>
